master branch

some minor modifications
add some comments

fix some bugs
